{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/woonho/cbt-project/app/wrong-notes/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useMemo } from \"react\";\nimport Link from \"next/link\";\n\nexport default function WrongNotesPage() {\n  const [wrongList, setWrongList] = useState<any[]>([]);\n  const [selectedDate, setSelectedDate] = useState<string | null>(null);\n  const [selectedSession, setSelectedSession] = useState<string | null>(null);\n  const [isSolving, setIsSolving] = useState(false);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [selectedAnswer, setSelectedAnswer] = useState<number | null>(null);\n  const [showExplanation, setShowExplanation] = useState(false);\n\n  useEffect(() => {\n    const data = localStorage.getItem(\"cbt-wrong-list\");\n    if (data) {\n      const parsed = JSON.parse(data);\n      const sorted = parsed.sort((a: any, b: any) => a.addedAt - b.addedAt);\n      setWrongList(sorted);\n    }\n  }, []);\n\n  const groupedData = useMemo(() => {\n    const groups: any = {};\n    wrongList.forEach((item) => {\n      const date = new Date(item.addedAt).toLocaleDateString();\n      if (!groups[date]) groups[date] = {};\n      if (!groups[date][item.examId]) groups[date][item.examId] = [];\n      groups[date][item.examId].push(item);\n    });\n    return groups;\n  }, [wrongList]);\n\n  const solvingQuestions = useMemo(() => {\n    if (selectedDate && selectedSession && groupedData[selectedDate]) {\n      return groupedData[selectedDate][selectedSession] || [];\n    }\n    return [];\n  }, [selectedDate, selectedSession, groupedData]);\n\n  const currentQ = solvingQuestions[currentIndex];\n\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (!isSolving || !currentQ) return;\n      if (['1', '2', '3', '4'].includes(e.key)) {\n        if (showExplanation) nextWrong();\n        else handleSelect(Number(e.key));\n      }\n      if (showExplanation && (e.key === \"ArrowRight\" || e.key === \"Enter\")) nextWrong();\n      if (e.key === \"Escape\") setIsSolving(false);\n    };\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, [isSolving, currentQ, currentIndex, showExplanation]);\n\n  const handleSelect = (num: number) => {\n    if (showExplanation) return;\n    setSelectedAnswer(num);\n    setShowExplanation(true);\n\n    // üöÄ [ÏûêÎèô ÏÇ≠Ï†ú] ÎßûÌòîÏùÑ Í≤ΩÏö∞ Î°úÏª¨ Ïä§ÌÜ†Î¶¨ÏßÄÏóêÏÑú Ï¶âÏãú ÏÇ≠Ï†ú\n    if (num === currentQ.answer) {\n      const updated = wrongList.filter(item => !(item.id === currentQ.id && item.examId === currentQ.examId));\n      localStorage.setItem(\"cbt-wrong-list\", JSON.stringify(updated));\n    }\n  };\n\n  const nextWrong = () => {\n    // ÎßûÌòîÎçò Î¨∏Ï†úÎùºÎ©¥ Î¶¨Ïä§Ìä∏ ÏÉÅÌÉúÎ•º Í∞±Ïã† (Ïù∏Îç±Ïä§Îäî Í∑∏ÎåÄÎ°ú ÎëêÎ©¥ Îã§Ïùå Î¨∏Ï†úÍ∞Ä Î∞ÄÎ†§Ïò¥)\n    if (selectedAnswer === currentQ.answer) {\n      const updated = wrongList.filter(item => !(item.id === currentQ.id && item.examId === currentQ.examId));\n      setWrongList(updated);\n      \n      // ÎßåÏïΩ Ìï¥Îãπ ÏÑπÏÖòÏùò ÎßàÏßÄÎßâ Î¨∏Ï†úÏòÄÎã§Î©¥ Ï¢ÖÎ£å\n      const remainingInSession = updated.filter(item => \n        new Date(item.addedAt).toLocaleDateString() === selectedDate && item.examId === selectedSession\n      );\n      \n      if (currentIndex >= remainingInSession.length) {\n        alert(\"Ìï¥Îãπ Ìè¥ÎçîÏùò Ïò§ÎãµÏùÑ Î™®Îëê Ï†ïÎ≥µÌñàÏäµÎãàÎã§! üéâ\");\n        setIsSolving(false);\n      }\n    } else {\n      // ÌãÄÎ†∏Îã§Î©¥ Îã§Ïùå Î¨∏Ï†úÎ°ú Ïù∏Îç±Ïä§ Ïù¥Îèô\n      if (currentIndex < solvingQuestions.length - 1) {\n        setCurrentIndex(currentIndex + 1);\n      } else {\n        setIsSolving(false);\n      }\n    }\n    setSelectedAnswer(null);\n    setShowExplanation(false);\n  };\n\n  const removeItem = (id: number, examId: string) => {\n    const updated = wrongList.filter(item => !(item.id === id && item.examId === examId));\n    localStorage.setItem(\"cbt-wrong-list\", JSON.stringify(updated));\n    setWrongList(updated);\n  };\n\n  if (isSolving && currentQ) {\n    return (\n      <div style={{ minHeight: \"100vh\", backgroundColor: \"#121212\", color: \"white\", padding: \"40px 20px\" }}>\n        <div style={{ maxWidth: 800, margin: \"0 auto\" }}>\n          <div style={{ display: \"flex\", justifyContent: \"space-between\", marginBottom: 20, color: \"#aaa\" }}>\n            <span>üìÇ {selectedDate} Ôºû {selectedSession}</span>\n            <span>{currentIndex + 1} / {solvingQuestions.length}</span>\n          </div>\n          <h2 style={{ backgroundColor: \"#1E1E1E\", padding: \"20px\", borderRadius: \"12px\", border: \"1px solid #333\", marginBottom: 20 }}>{currentQ.question}</h2>\n          <div style={{ display: \"flex\", flexDirection: \"column\", gap: 10 }}>\n            {currentQ.options.map((opt: string, i: number) => {\n              const num = i + 1;\n              let bgColor = \"#2C2C2C\";\n              if (showExplanation) {\n                if (num === currentQ.answer) bgColor = \"#1B5E20\";\n                else if (selectedAnswer === num) bgColor = \"#3E2723\";\n              }\n              return (\n                <div key={i} onClick={() => (showExplanation ? nextWrong() : handleSelect(num))} style={{ padding: \"15px\", borderRadius: \"10px\", cursor: \"pointer\", backgroundColor: bgColor, border: \"2px solid #333\" }}>\n                  {num}. {opt}\n                </div>\n              );\n            })}\n          </div>\n          {showExplanation && (\n            <div style={{ marginTop: 25, padding: 25, backgroundColor: \"#1E1E1E\", borderRadius: 15, border: \"1px solid #4FC3F7\" }}>\n              <p style={{ color: \"#4FC3F7\", fontWeight: \"bold\", marginBottom: 5 }}>üí° Ìï¥ÏÑ§</p>\n              <p>{currentQ.explanation}</p>\n              <p style={{ color: \"#666\", fontSize: \"0.8rem\", marginTop: 15 }}>ÎßûÌûàÎ©¥ Ïò§ÎãµÎÖ∏Ìä∏ÏóêÏÑú ÏûêÎèôÏúºÎ°ú ÏÇ≠Ï†úÎê©ÎãàÎã§.</p>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ minHeight: \"100vh\", backgroundColor: \"#121212\", color: \"white\", padding: \"40px 20px\" }}>\n      <div style={{ maxWidth: 800, margin: \"0 auto\" }}>\n        <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: 30 }}>\n          <h1 style={{ fontSize: \"1.8rem\", fontWeight: \"bold\" }}>{selectedDate ? `üìÇ ${selectedDate}` : \"üìÖ Ïò§Îãµ Í∏∞Î°ù\"}</h1>\n          <Link href=\"/\"><button style={{ padding: \"8px 16px\", backgroundColor: \"#333\", color: \"white\", border: \"none\", borderRadius: 8 }}>ÌôàÏúºÎ°ú</button></Link>\n        </div>\n        {!selectedDate && (\n          <div style={{ display: \"grid\", gap: 15 }}>\n            {Object.keys(groupedData).length === 0 ? <p style={{ textAlign: \"center\", marginTop: 50, color: \"#666\" }}>Ïò§Îãµ ÎÖ∏Ìä∏Í∞Ä ÎπÑÏñ¥ÏûàÏäµÎãàÎã§. ÏïÑÏ£º ÌõåÎ•≠Ìï©ÎãàÎã§! üëè</p> : \n              Object.keys(groupedData).reverse().map(date => (\n                <div key={date} onClick={() => setSelectedDate(date)} style={{ padding: \"20px\", backgroundColor: \"#1E1E1E\", borderRadius: 12, cursor: \"pointer\", border: \"1px solid #333\" }}>\n                  üìÅ <span style={{ fontWeight: \"bold\", marginLeft: 10 }}>{date}</span>\n                  <div style={{ fontSize: \"0.8rem\", color: \"#666\", marginLeft: 35 }}>{Object.keys(groupedData[date]).length}Í∞ú ÌöåÏ∞® Í∏∞Î°ùÎê®</div>\n                </div>\n            ))}\n          </div>\n        )}\n        {selectedDate && !isSolving && (\n          <div style={{ display: \"grid\", gap: 15 }}>\n            <button onClick={() => setSelectedDate(null)} style={{ color: \"#4FC3F7\", background: \"none\", border: \"none\", cursor: \"pointer\", textAlign: \"left\" }}>‚¨ÖÔ∏è Îí§Î°úÍ∞ÄÍ∏∞</button>\n            {Object.keys(groupedData[selectedDate]).map(examId => (\n              <div key={examId} style={{ padding: \"20px\", backgroundColor: \"#1E1E1E\", borderRadius: 12, display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", border: \"1px solid #333\" }}>\n                <div>üìÑ {examId}ÌöåÏ∞® ({groupedData[selectedDate][examId].length}Î¨∏Ï†ú)</div>\n                <button onClick={() => { setSelectedSession(examId); setIsSolving(true); setCurrentIndex(0); setShowExplanation(false); }} style={{ padding: \"10px 20px\", backgroundColor: \"#4CAF50\", color: \"white\", border: \"none\", borderRadius: 8, fontWeight: \"bold\" }}>Îã§Ïãú ÌíÄÍ∏∞</button>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}}]
}